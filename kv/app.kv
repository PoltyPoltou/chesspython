#:kivy 2.0.0
#: include kv/board.kv
#: include kv/analysis.kv
#: include kv/movelist.kv
#: include kv/loader.kv
#: include kv/arrows.kv
#: include kv/movelistheader.kv
<ChessWindow>:
    cols : 2
    padding : (10,10)
    spacing : 10
    boardGUI : boardGUI
    moveList : mvlst
    progressBar : progress
    loadButton : button
    moveListHeader: hdMoveLst
    evalBarWidget:bar
    canvas:
        Color:
            rgb : self.couleurBg
        Rectangle:
            pos : self.pos
            size : self.size
    FloatLayout:
        size_hint : (0.75,0.9)
        id : container
        spacing : 10
        evalWidth : bar.width + self.spacing

        EvaluationBar:
            id : bar
            size_hint : (None, None)
            size : (40, boardGUI.height)
            pos_hint : {'center_y' : 0.5}
            right : boardGUI.right - boardGUI.width - container.spacing
            pov : boardGUI.pov
        BoardWidget:
            id : boardGUI
            size_hint : (None,None)
            size : min(container.width - container.evalWidth, container.height), min(container.width - container.evalWidth, container.height)
            pos_hint: {'center_x' : 0.5 + container.evalWidth/container.width/2, 'center_y' : 0.5}
            evalBarWidget: bar
            moveList: mvlst
    BoxLayout:
        orientation:'vertical'
        size_hint : (0.25,1)
        HeadMoveList:
            id:hdMoveLst
            size_hint : (1,0.2)
            text: "azd"
        MoveList:
            size_hint : (1,0.8)
            id:mvlst

    AnalysisProgressBar:
        id: progress
        size_hint : (0.1,0.1)

    BoxLayout:
        size_hint : (0.1,0.1)
        Button:
            id : button
            text: 'Load'
            on_release: root.show_load()
