#:kivy 2.0.0
#: include kv/board.kv
#: include kv/analysis.kv
#: include kv/movelist.kv
#: include kv/loader.kv

<ChessWindow>:
    orientation : 'horizontal'
    padding : (10,10)
    spacing : 10
    boardGUI : boardGUI
    canvas:
        Color:
            rgb : self.couleurBg
        Rectangle:
            pos : self.pos
            size : self.size
    BoxLayout:
        size_hint : (0.1,1)
        Button:
            text: 'Load'
            on_release: boardGUI.show_load()

    FloatLayout:
        size_hint : (0.75,1)
        id : container
        spacing : 10
        evalWidth : bar.width + self.spacing

        EvaluationBar:
            id : bar
            size_hint : (None, None)
            size : (40, boardGUI.height)
            pos_hint : {'center_y' : 0.5}
            right : boardGUI.right - boardGUI.width - container.spacing
            pov : boardGUI.pov
        BoardWidget:
            id : boardGUI
            size_hint : (None,None)
            size : min(container.width - container.evalWidth, container.height), min(container.width - container.evalWidth, container.height)
            pos_hint: {'center_x' : 0.5 + container.evalWidth/container.width/2, 'center_y' : 0.5}
            evalWidget: bar
            moveList: mvlst
    MoveList:
        id:mvlst
        size_hint : (0.15,1)
